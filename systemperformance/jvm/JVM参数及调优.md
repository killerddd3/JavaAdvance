# JVM参数及调优

### 调优基本概念

在调整性能时，JVM有三个组件：堆大小调整，垃圾收集器调整，JIT编译器。大多数调优选项都与调整堆大小和为你的情况选择最合适的垃圾收集器有关。JTI编译器对性能也有很大影响，但很少需要使用较新版本的JVM进行调优。

通常，在调优Java应用程序时，重点是一下两个主要目标之一：

1. 响应性：应用程序或系统对请求的数据进行响应的速度，对于专注于响应性的应用程序，长的暂停时间是不可接受的，重点是在短时间内做出回应。
2. 吞吐量：侧重在特定时间内最大化应用程序的工作量，对于专注于吞吐量的应用程序，高暂停时间是可接受的。由于高吞吐量应用程序在较长时间内专注于基准测试，因此不需要考虑快速响应时间。

### 常用的JVM参数

![1559312518055](C:\Users\zhu\AppData\Roaming\Typora\typora-user-images\1559312518055.png)

### GC调优思路

1. 分析场景：例如：启动速度慢；偶尔出现响应慢于平均水平或者出现卡顿。
2. 确定目标：内存占用，低延时，吞吐量。
3. 收集日志：通过参数配置收集GC日志；通过JDK工具查看GC状态。
4. 分析日志：使用工具辅助分析日志，查看GC次数，GC时间。
5. 调整参数：切换垃圾收集器或者调整垃圾收集器参数。

### 通用GC参数

![1559312928317](C:\Users\zhu\AppData\Roaming\Typora\typora-user-images\1559312928317.png)

### 垃圾收集器Parallel参数调优

![1559315344669](C:\Users\zhu\AppData\Roaming\Typora\typora-user-images\1559315344669.png)

### 垃圾收集器CMS参数调优

![1559316719261](C:\Users\zhu\AppData\Roaming\Typora\typora-user-images\1559316719261.png)

### 垃圾收集器G1参数调优

![1559316771629](C:\Users\zhu\AppData\Roaming\Typora\typora-user-images\1559316771629.png)

### 运行时JIT编译器优化参数

JIT编译值得是将字节码编译为本地代码执行，只有热点代码才会编译为本地代码。解释器执行节约内存，反之可以使用编译执行来提升效率。

![1559316844491](C:\Users\zhu\AppData\Roaming\Typora\typora-user-images\1559316844491.png)











